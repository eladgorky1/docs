---
title: "Chats"
---

---

# Required Schema

## Priority 1 – Message-Level Schema

We strongly recommend sending chat data at the message level. This provides the highest fidelity and enables Flexor to accurately reconstruct conversations, ordering, and speaker roles.

| Field           | Description                                                                                                                                         |
| --------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| joinable_id     | Unique message identifier, used to join back to other structured data                                                                               |
| conversation_id | Identifier for the entire conversation that includes this message                                                                                   |
| timestamp       | When the message was sent (ISO 8601 format)                                                                                                         |
| content         | Text content of the message                                                                                                                         |
| sender          | Name of the message sender                                                                                                                          |
| ordering_index  | _(Optional)_ Message ordering index within the conversation (starting from 0)                                                                       |
| sender_type     | _(Optional)_ Defines the sender's role within the conversation. Accepted values are `User` for end-customers and `Agent` for support or sales staff |

## Priority 2 – Conversation-Level Schema

If message-level data is not available, conversation-level data may be provided. In this case, additional per-message metadata is mandatory.

| Field       | Description                                                                        |
| ----------- | ---------------------------------------------------------------------------------- |
| joinable_id | Unique identifier for the conversation, used to join back to other structured data |
| timestamp   | When the conversation was initiated (ISO 8601 format)                              |
| content     | Text content of the conversation                                                   |

### Mandatory additional requirements for conversation-level data

For each message within the conversation, we must be able to identify:

- Sender name of each message
- Sender type (`User`/`Agent` or `External`/`Internal`)
- Message-level timestamp

**Example:**

```json
[
  {
    "text": "Hi there, I'm having trouble logging into my account",
    "sender": "Jordan Lee",
    "sender_role": "user",
    "message_timestamp": "2025-05-27 18:09:12.000"
  },
  {
    "text": "Hey Jordan! I can help with that. Are you seeing an error message or just being redirected back to the login screen?",
    "sender": "Emily Carter",
    "sender_role": "agent",
    "message_timestamp": "2025-05-27 18:09:18.420"
  }
]
```