---
title: "FLEX - Categories"
---

For conceptual information about Categories, see [Categories](core_concepts_categories.md).

## Syntax

```sql
FLEX(MESSAGE_ID/ELEMENT_ID/ENTRY_ID, '<classification_input> -> <extraction_input> -> [<category_1>, <category_2>, ..., <category_n>]')
```

<Info>
  MESSAGE_ID - For Conversational data (e.g., Chats, Transcripts, Emails)

  ENTRY_ID - For Non-Conversational data (e.g, CRM Notes, Reviews)

  ELEMENT_ID - For Documents
</Info>

## Parameters

| Parameter                        | Description                                                                     |
| -------------------------------- | ------------------------------------------------------------------------------- |
| `MESSAGE_ID/ELEMENT_ID/ENTRY_ID` | The unique identifier for the row being processed.                              |
| `categories_input`               | A Boolean question followed by an Extraction input, followed by a Category list |

## Example

```sql
FLEX(message_id, 'Did the customer ask to return the product? -> product -> [TV, computer, phone]')
```

## Returns

A JSON object with the following properties:

| Property   | Type   | Description                                                                                                                         |
| ---------- | ------ | ----------------------------------------------------------------------------------------------------------------------------------- |
| `answer`   | String | A JSON array of matching categories. Returns `"Other"` if no category matches, or `"NA"` if boolean is False or no entity is found. |
| `evidence` | String | A JSON array of raw text snippets that support the category assignment.                                                             |
| `viewer`   | String | A link to the full text with evidence highlighted.                                                                                  |

## 