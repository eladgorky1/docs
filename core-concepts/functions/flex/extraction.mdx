---
title: "FLEX - Extraction"
---

For conceptual information about Extraction, see [Extraction](https://docs.flexorai.com/core-concepts/extraction).

## Syntax

```sql
FLEX(message_id/element_id/entry_id, '<classification_input> -> <extraction_input>')
```

<Info>
  message_id - For Conversational data (e.g., Chats, Transcripts, Emails)

  entry_id - For Non-Conversational data (e.g, CRM Notes, Reviews)

  element_id - For Documents
</Info>

## Parameters

| Parameter                        | Description                                            |
| -------------------------------- | ------------------------------------------------------ |
| `message_id/element_id/entry_id` | The unique identifier for the row being processed.     |
| `extraction_input`               | A classification input followed by an Extraction input |

## Example

```sql
FLEX(message_id, 'Did the customer ask to return the product? -> product')
```

## Returns

A JSON object with the following properties:

| Property   | Type   | Description                                                                                                |
| ---------- | ------ | ---------------------------------------------------------------------------------------------------------- |
| `answer`   | String | A JSON array of normalized extracted values. Returns `"NA"` if the boolean is False or no entity is found. |
| `evidence` | String | A JSON array of raw text snippets corresponding to each extraction.                                        |
| `viewer`   | String | A link to the full text with evidence highlighted.                                                         |